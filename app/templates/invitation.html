<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{groom_dict.lastname}}{{groom_dict.firstname}} ♥ {{bride_dict.lastname}}{{bride_dict.firstname}} 결혼 합니다</title>
    <link rel="apple-touch-icon" sizes="57x57" href="/static/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/static/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>

    <!-- 웹폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Source+Sans+Pro:wght@200&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../static/css/reset.css" >
    <link rel="stylesheet" href="../static/css/animation.css">
    <link rel="stylesheet" href="../static/css/invitation.css" >

</head>
<body>
    <div id="app">
        <div id="app-container">
            
            <div class="title_box">
                <header class="animation-box" data-animation="slide-up">
                    <div>{{groom_dict.lastname}}{{groom_dict.firstname}}</div>
                    <div>―</div>
                    <div>{{bride_dict.lastname}}{{bride_dict.firstname}}</div>
                </header>
                <div class="main_img_card animation-box" data-animation="slide-up">
                    <div>
                        <img src="{{image_list.main_img}}" alt="웨딩 메인 이미지" />
                    </div>
                    <div>
                        {{wedding_schedule_dict.date}} {{wedding_schedule_dict.time}}<br>
                        <div>{{wedding_schedule_dict.hall_detail}}</div>
                    </div>
                </div>
            </div>

            <div class="famous_quote">
                <div>
                    <div class="famous_quote_icon">
                        <img class="animation-box" data-animation="slide-up" src="/static/images/icon_image/icon_flower.png" alt="깃털 아이콘" >
                    </div>
                </div>
                <div>
                    <div class="animation-box" data-animation="slide-up" data-type="message" message-type="main"></div>
                </div>
            </div>
            
            <div class="invitation_message">
                <div>
                    <div class="animation-box" data-animation="slide-up">초대합니다</div>
                    <div class="animation-box" data-animation="slide-up" data-type="message" message-type="sub"></div>
                    <div>
                        <img class="animation-box" data-animation="slide-up" src="{{image_list.sub_img}}" alt="웨딩 서브 이미지">
                    </div>
                    <div>
                        <div class="animation-box" data-animation="slide-up">
                            <span>
                                <span>
                                    <span>{{groom_dict.father}}</span>
                                    <span>·</span>
                                </span>
                                <span>{{groom_dict.mother}}</span>
                            </span>
                            <span class="relation">
                                <span>의</span>
                                <span>아들</span>
                            </span>
                            <span>{{groom_dict.firstname}}</span>
                            <span class="phone-circle" onclick="makeCall('groom_dict', 'phoneNum')">
                                <i class="ph-fill ph-phone" style="color: #bf8362;"></i>
                            </span>
                        </div>
                        <div class="animation-box" data-animation="slide-up">
                            <span>
                                <span>
                                    <span>{{bride_dict.father}}</span>
                                    <span>·</span>
                                </span>
                                <span>{{bride_dict.mother}}</span>
                            </span>
                            <span class="relation">
                                <span>의</span>
                                <span>딸</span>
                            </span>
                            <span>{{bride_dict.firstname}}</span>
                            <span class="phone-circle" onclick="makeCall('bride_dict', 'phoneNum')" >
                                <i class="ph-fill ph-phone" style="color: #bf8362;"></i>
                            </span>
                        </div>
                    </div>
                    <div >
                        <input type="checkbox" id="popup_1" hidden>
                        <label for="popup_1" class="contact-box animation-box" data-animation="slide-up">혼주에게 연락하기</label>
                        <div>
                            <div class="contact-modal-wrap">
                                <!-- <label for="popup_1"></label> -->
                                <div class="contact-modal-inner">
                                    <div class="title"><div>혼주에게 연락하기</div></div>
                                    <div class="content">
                                        <div>
                                            <div class="cell">
                                                <span style="color: rgb(102, 142, 170);">신랑 父</span>
                                            </div>
                                            <div class="cell">
                                                <span>{{groom_dict.father}}</span>
                                            </div>
                                            <div class="cell">
                                                <span class="phone-square" onclick="makeCall('groom_dict', 'fatherPhoneNum')">
                                                    <i class="ph-fill ph-phone" style="color: #668eaa;"></i>
                                                </span>
                                                <span class="phone-square" onclick="sendMessage('groom_dict', 'fatherPhoneNum')">
                                                    <i class="ph-fill ph-envelope" style="color: #668eaa;"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="cell">
                                                <span style="color: rgb(102, 142, 170);">신랑 母</span>
                                            </div>
                                            <div class="cell">
                                                <span>{{groom_dict.mother}}</span>
                                            </div>
                                            <div class="cell">
                                                <span class="phone-square" onclick="makeCall('groom_dict', 'motherPhoneNum')">
                                                    <i class="ph-fill ph-phone" style="color: #668eaa;"></i>
                                                </span>
                                                <span class="phone-square" onclick="sendMessage('groom_dict', 'motherPhoneNum')">
                                                    <i class="ph-fill ph-envelope" style="color: #668eaa;"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div style="height: 1px; border-bottom: 1px solid rgb(216, 216, 216); width: 90%; margin: 20px auto;"></div>
                                        <div>
                                            <div class="cell">
                                                <span style="color: rgb(217, 124, 116);">신부 父</span>
                                            </div> <div class="cell">
                                                <span>{{bride_dict.father}}</span>
                                            </div>
                                            <div class="cell">
                                                <span class="phone-square" onclick="makeCall('bride_dict', 'fatherPhoneNum')">
                                                    <i class="ph-fill ph-phone" style="color: #d97c74;"></i>
                                                </span>
                                                <span class="phone-square" onclick="sendMessage('bride_dict', 'fatherPhoneNum')">
                                                    <i class="ph-fill ph-envelope" style="color: #d97c74;"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="cell">
                                                <span style="color: rgb(217, 124, 116);">신부 母</span>
                                            </div>
                                            <div class="cell">
                                                <span>{{bride_dict.mother}}</span>
                                            </div>
                                            <div class="cell">
                                                <span class="phone-square" onclick="makeCall('bride_dict', 'fatherPhoneNum')">
                                                    <i class="ph-fill ph-phone" style="color: #d97c74;"></i>
                                                </span>
                                                <span class="phone-square" onclick="sendMessage('bride_dict', 'motherPhoneNum')">
                                                    <i class="ph-fill ph-envelope" style="color: #d97c74;"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <label for="popup_1"></label>
                        </div>
                        
                    </div>
                </div>
            </div>
            
            <div class="calendar_area">
                <div class="title animation-box"  data-animation="slide-up">
                    <div id="current_date"></div>

                    <div style="font-size: 0.9rem; color: rgb(51, 51, 51); opacity: 1; transform: translate(0px, 0px);">
                        {{wedding_schedule_dict.time}}<br>
                    </div>
                </div>
                    
                <div class="calendar animation-box" data-animation="slide-up">
                    <table>
                        <thead>
                            <tr>
                                <td class="animation-box order-1" data-animation="slide-up">일</td>
                                <td class="animation-box order-2" data-animation="slide-up">월</td>
                                <td class="animation-box order-3" data-animation="slide-up">화</td>
                                <td class="animation-box order-4" data-animation="slide-up">수</td>
                                <td class="animation-box order-5" data-animation="slide-up">목</td>
                                <td class="animation-box order-6" data-animation="slide-up">금</td>
                                <td class="animation-box order-7" data-animation="slide-up">토</td>
                            </tr>
                        </thead>
                        <tbody id="tb_body">
                        </tbody>
                    </table>
                </div>
                <div class="dday-wrap animation-box" data-animation="slide-up">
                    <div>
                        {{groom_dict.firstname}} <span class="highlight" style="font-size:11px;">♥</span> {{bride_dict.firstname}}의 결혼까지 <span class="highlight d-day" ></span>
                    </div>
                </div>
            </div>


            <div class="gallery-wrap">
                <div class="m-title animation-box" data-animation="slide-up">갤러리</div>
                <div class="gallery-container">
                    <div class="gallery-square">
                        {% for image_data in image_list.gallery_img %}
                        <div class="item animation-box order-{{ loop.index % 3 or 3 }}" data-animation="slide-up">
                            <div class="ph"></div>
                            <img src="{{image_data.img_sm}}" class="img-blur" onclick="showImgSlider('{{loop.index0}}')" />
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div id="gallery_slider_element">
                    <div style="flex:1"></div>

                    <div class="container">
                        <div class="swiper gallery_swiper ">
                            <div class="swiper-wrapper">
                                {% for image_data in image_list.gallery_img %}
                                <div class="swiper-slide">
                                    <div class="swiper-zoom-container">
                                        <img src="{{image_data.img}}" alt="">
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        
                    </div>
                    <div style="flex:1"></div>

                    <div class="slider-buttons">
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                        <button onclick="closeImgSlider()">닫기</button>
                    </div>
                </div>
            </div>
            <div class="map-wrap">
                <div class="m-title animation-box" data-animation="slide-up">오시는 길</div>
                <div class="location-wrap animation-box" data-animation="slide-up">
                    <div class="location-hall">
                        <div>{{wedding_schedule_dict.hall_detail}}</div>
                    </div>
                    <div class="location-address">
                        <div>{{wedding_schedule_dict.hall_addr}}</div>
                    </div>
                </div>
                <div class="animation-box" data-animation="slide-up">
                    <div id="map" style="width:100%;height:240px;"></div>
                    <div>
                        <div class="c-map-navi gothic">
                            <button onclick="naverMap()" class="navi">
                                <img src="/static/images/icon_image/icon_navermap_w48.png">
                                <span>네이버 지도</span>
                            </button>
                            <button onclick="kakaoMap()" class="navi">
                                <img src="/static/images/icon_image/icon_kakaonavi_w48.png">
                                <span>카카오 내비</span>
                            </button>
                            <button onclick="tMap()" class="navi">
                                <img src="/static/images/icon_image/icon_tmap_w48.png">
                                <span>티맵</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="waytocome-wrap">
                        {% for transprot in transport_list %}
                        <div class="box animation-box" data-animation="slide-up">
                            <div class="title">
                                <span data-type="transport" data-index="{{loop.index0}}" transport-type="title"></span>
                            </div>
                            <div class="content" data-type="transport" data-index="{{loop.index0}}"  transport-type="contents"></div>
                        </div>
                        {% endfor %}
                        
                    </div>
                </div>
                
            </div>
            <div class="account-wrap">
                <div class="m-subtitle animation-box"  data-animation="slide-up">
                    <img src="/static/images/icon_image/icon_flower_07.png" alt="">
                </div>
                <div class="title animation-box" data-animation="slide-up">
                    <span>마음 전하실 곳</span>
                </div>
                <div class="c-account">
                    {% for bank in bank_acc %}
                    <div class="item animation-box" data-animation="slide-up">
                        <input type="checkbox" id="accordion_{{loop.index}}">
                        <label for="accordion_{{loop.index}}">
                            <div class="title">
                                <div>{{bank.group_name}} 계좌번호</div>
                                <div class="arrow">
                                    <i class="ph-bold ph-caret-down"></i>
                                </div>
                            </div>
                        </label>
                        <div>
                            {% for bank_data in bank.list  %}
                            <div class="text gothic" style="height: 72px;">
                                <div class="inner">
                                    <span>
                                        <span class="bank">{{bank_data.bank}}</span>
                                        <span>{{bank_data.number}}</span>
                                    </span>
                                    <br>
                                    <span>{{bank_data.name}}</span>
                                </div>
                                <div>
                                    <div class="btn-copy copy-text" data-target="{{bank_data.bank}} {{bank_data.number}}">복사하기</div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}

                </div>
            </div>
            <div class="guestbook-wrap">
                <div class="m-title animation-box" data-animation="slide-up">방명록</div>
                <div class="c-guestbook">
                    <div class="comments">
                        {% for guestbook in guestbook_list %}
                        <div class="item animation-box" data-animation="slide-up">
                            <div class="close">
                                <span class="date">{{guestbook.created_at}}</span>
                                <span class="icon" onclick="openModalDeleteGusetbook({{ guestbook.id }})">
                                    <i class="ph-bold ph-x"></i>
                                </span>
                            </div>
                            <div class="name">{{guestbook.name}}</div>
                            <div class="text" data-type="guestbook" data-index="{{loop.index0}}" guestbook-type="content"></div>
                        </div>
                        {% endfor %}
                        
                        <div class="pagination-wrap"></div>
                        <div class="writing">
                            
                            <input type="checkbox" id="popup_2">

                            <label for="popup_2" class="animation-box" data-animation="slide-up">작성하기</label>
                            <div>
                                <div>
                                    <!-- <label for="popup_2"></label> -->
                                    <div class="c-guestbook-delete-modal">
                                        <div class="content">
                                            <div class="writing">
                                                <div>
                                                    <input type="text" maxlength="8" placeholder="이름">
                                                    <input type="password" maxlength="15" placeholder="비밀번호">
                                                </div>
                                                <textarea maxlength="100"></textarea>
                                            </div>
                                        </div>
                                        <div class="action">
                                            <button onclick="submitGuestbook()">작성하기</button>
                                        </div>
                                    </div>
                                </div>
                                <label for="popup_2"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-wrap">
                <div class="kakao-wrap">
                    <a class="btn-kakao" id="kakao-link-btn" href="javascript:sendLink()">
                        <svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="m9.462 9.306-.692 1.951h1.383z"></path>
                            <path d="m12 1c-6.627 0-12 4.208-12 9.399 0 3.356 2.246 6.301 5.625 7.963-1.299 4.45-1.333 4.47-1.113 4.599.276.161.634-.005 5.357-3.311.692.097 1.404.148 2.131.148 6.627 0 12-4.208 12-9.399s-5.373-9.399-12-9.399zm-5.942 12.023c0 .362-.311.657-.692.657s-.692-.295-.692-.657v-4.086h-1.08c-.375 0-.679-.302-.679-.673s.303-.674.678-.674h3.545c.375 0 .679.302.679.673s-.305.674-.679.674h-1.08zm5.378.648c-.72 0-.587-.565-.919-1.195h-2.111c-.329.625-.2 1.195-.919 1.195-.693.001-.815-.421-.604-1.071l1.656-4.33c.117-.33.471-.669.922-.679.452.01.807.349.923.679 1.093 3.39 2.654 5.402 1.052 5.401zm3.939-.092h-2.221c-1.159 0-.454-1.565-.663-5.301 0-.379.317-.688.707-.688s.707.308.707.688v4.04h1.471c.366 0 .663.283.663.63-.001.348-.298.631-.664.631zm5.419-.518c-.025.181-.122.344-.269.454-.955.721-1.661-1.381-2.593-2.271l-.24.239v1.5c0 .38-.31.688-.693.688-.382 0-.692-.308-.692-.688v-4.705c0-.379.31-.688.692-.688s.692.308.692.688v1.478c1.277-.958 1.985-2.67 2.792-1.869.792.786-.848 1.474-1.527 2.422 1.604 2.212 1.909 2.267 1.838 2.752z"></path>
                        </svg>
                        <span style="display: inline-block; width: 9.2rem; margin-left: 6px;">
                            카카오톡으로 공유하기
                        </span>
                    </a>
                    <button class="btn-kakao copy-text" id="btn-url-copy" data-target="{{ request.url }}">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path>
                        </svg>
                        <span style="display: inline-block; width: 9.2rem; margin-left: 6px;">
                            청첩장 주소 복사하기
                        </span>
                    </button>
                    
                    <div class="copyright-wrap">
                        <div class="copyright">
                            Copyright 2023. <span class="brand">FROMTODAY</span>. All rights reserved.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ko0r34e7m9"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js"
  integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx" crossorigin="anonymous"></script>
    <script>
        // jinja2 데이터 받기
        const message_templates_dict = {{message_templates_dict|safe}}; 
        const transport_list = {{transport_list|safe}};
        const guestbook_list = {{guestbook_list|safe}};
        const wedding_schedule_dict = {{wedding_schedule_dict|safe}};
        const groom_dict = {{groom_dict|safe}}
        const bride_dict = {{bride_dict|safe}}
        const image_list = {{image_list|safe}}

        const usertemplate_id = {{usertemplate_id|safe}}

        console.log("message_templates_dict",message_templates_dict)
    </script>
    
    <script src="/static/js/common.js"></script>
    <script src="/static/js/invitation.js"></script>
    <script src="/static/js/animation.js"></script>
    
</body>
</html>